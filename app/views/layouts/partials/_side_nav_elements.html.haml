- classes = nil
- children = Family.children(@side_nav_elements, element) unless element.is_a?(Collection)

- if @active && element.id == @active.id
  - classes = "active expanded"
  

%li{class: classes}
  - if element.has_attribute?("link") && element.link != nil && element.link != ""
    = link_to element.title, element.link
  - else
    = link_to element.title, element

  - if children.present?
    %ul
      - children.each do |child|
        = render "layouts/partials/side_nav_elements", element: child